---
title: публиковать
lastChanged: 14.09.2018
editLink: https://github.com/ioBroker/ioBroker.docs/edit/master/docs/ru/dev/adapterpublish.md
translatedFrom: de
translatedWarning: Если вы хотите отредактировать этот документ, удалите поле «translationFrom», в противном случае этот документ будет снова автоматически переведен
hash: qhR3rDNwQqTnyU3gvGpGmQHGH4s0CAAUTJbEFnxIimc=
---
# Опубликовать адаптер
Прежде чем подумать о публикации адаптера, его следует предложить для тестирования в [Тестовая тема форума](https://forum.iobroker.net/category/91/tester). Если тесты пройдены успешно, а адаптер стабилен, его сначала следует включить в последний репозиторий. <br/><br/> вес тела Если адаптер работает стабильно с определенным номером версии, его можно перенести в стабильный репозиторий. Это требует собственной оценки разработчика в сочетании с отзывами пользователей.

*** Дополнительные текущие требования можно найти здесь: *** https://github.com/ioBroker/ioBroker.repositories/blob/master/README.md

## Последние требования к репозиторию
0.Используйте [https://adapter-check.iobroker.in/[(https://adapter-check.iobroker.in/) для тестирования репо адаптера.

1. Хранилище github адаптера должно иметь заглавную букву B в ioBroker, тогда как в package.json оно должно быть небольшим.

должен быть написан, так как ``npm`` не допускает заглавные буквы.

2. Заголовок в io-package.json не должен содержать слова «ioBroker» или слова «адаптер».

3. Атрибут `` title '' в io-package.json (общий) - это краткое имя адаптера на английском языке. Во время "titleLang"

содержит переводы атрибута ``title``. (расширение Lang обозначает языки)

4. Адаптер должен содержать инструкции в виде файла README.md. Это должно быть по крайней мере на английском языке

быть доступным Другие языки также приветствуются. Это [пример](https://github.com/foxriver76/ioBroker.denon) может служить предложением.

5. Адаптер требует лицензии. И в io-package.json, и в отдельном

[файл](https://github.com/foxriver76/ioBroker.denon/blob/master/LICENSE) в репозитории Github.

   Пример для io-package.json:

```json
{
  "common": {
      "license": "MIT"
  }
}
```

6. Каталог `www` и каталог` widget` должны быть удалены, когда они не используются.

7. В io-package.json атрибут `type` должен быть создан в общем. Чтобы сделать это из этого

[список](#Adapterkategorien) наиболее подходящая категория.

8. В io-package.json атрибут `connection-type` должен быть создан в общем. Чтобы сделать это из этого

[список](#Adapter-Verbindungstyp) наиболее подходящая категория подключения.

9. Состояния, созданные адаптером, должны предоставлять действительную информацию для вашего

[рулет](https://github.com/ioBroker/ioBroker/blob/master/doc/STATE_ROLES.md#state-roles) `role` под общим.
Следует избегать использования роли `state`.

10. Адаптер должен использовать оба теста, указанные в шаблоне. Для этого аккаунт Github с Appveyor

(Тесты Windows) и Travis CI (тесты Linux и Mac OS) связаны между собой, и соответствующий репозиторий зарегистрирован для тестирования. Эти два инструмента непрерывной интеграции доказали свою пригодность для проекта ioBroker и бесплатны для общедоступных репозиториев Github. <br/><br/> Разработчик может с удовольствием расширить сферу тестов.

11. В io-package.json должна быть хотя бы одна запись под общим для атрибута «авторы». также

атрибут `author` должен быть заполнен в package.json. При желании несколько авторов также можно сохранить для npm, используя атрибут `contributors` в package.json.

12. Адаптер должен быть доступен в виде пакета npm. Больше информации можно

[здесь](https://github.com/ioBroker/ioBroker.repositories#how-to-publish-on-npm) можно найти.

13. Организация ioBroker должна быть добавлена в npm. Это необходимо для обеспечения долгосрочного обслуживания пакета

даже если разработчик больше не может ждать пакет из-за времени или других причин. Дополнительную информацию можно найти в [здесь](https://github.com/ioBroker/ioBroker.repositories#add-owner-to-packet).

## Требования к стабильному репозиторию
1. Адаптер был успешно добавлен в последний репозиторий
2. Для адаптера есть [Тестовая ветка форума] (https://forum.iobroker.net/viewforum.php?f=36), в которой уже

Обратная связь с пользователем была дана.

3. Должна быть реализована функция обнаружения. Это функция в

[Адаптер Discovery](https://github.com/ioBroker/ioBroker.discovery) для автоматического распознавания того, может ли пользователь использовать экземпляр адаптера. Для этого необходимо сделать запрос на удаление в хранилище [Адаптеры Discovery](https://github.com/ioBroker/ioBroker.discovery).

## Добавьте адаптер в официальный репозиторий
1. [Официальный репозиторий Github] (https://github.com/ioBroker/ioBroker.repositories) следует посетить

и pull-запрос со следующим содержимым, в зависимости от хранилища.

2. Пожалуйста, расположите адаптер в алфавитном порядке между существующими адаптерами.

3. Номер версии должен быть объявлен при добавлении в стабильный репозиторий. Это в процессе дальнейшего развития

обновить адаптер.

4. Адаптер должен установить атрибут списка `docs` в io-package.json с инструкциями о том, где

можно найти на соответствующем языке. В качестве ключа указывается язык, а в качестве значения указывается путь к файлу уценки.
Требуются инструкции на английском языке (в экстренных случаях можно обратиться к стандарту README). Немецкие инструкции также желательны, так как большинство пользователей говорят по-немецки, но это необязательно.
Подробные инструкции могут сэкономить разработчику много времени на форуме. Пример можно найти в [здесь](https://github.com/foxriver76/ioBroker.denon/blob/master/docs/de/README.md).

   пример:

```json
{
  "common": {
     "docs": {
         "de": "docs/de/README.md"
     }
  }
}
```

### Последний
Файл `sources-dist.json` необходимо отредактировать:

пример:

```json
  "admin": {
    "meta": "https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/io-package.json",
    "icon": "https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/admin/admin.png",
    "published": "2017-04-10T17:10:21.690Z",
    "type": "general"
  }
```

Дата `published` представляет дату первой публикации и не должна изменяться.

### Стабильный
Файл `sources-dist-stable.json` необходимо отредактировать:

пример:

```json
  "admin": {
    "meta": "https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/io-package.json",
    "icon": "https://raw.githubusercontent.com/ioBroker/ioBroker.admin/master/admin/admin.png",
    "version": "2.0.7",
    "published": "2017-04-10T17:10:21.690Z",
    "type": "general"
  }
```

Дата `published` представляет дату первой публикации и не должна изменяться.

## Управление версиями адаптера
Текущий номер версии адаптера указан как в io-package.json, так и в package.json. Две спецификации должны совпадать. Номер версии разделен на три части двумя точками.

```json
"version": "1.7.6"
```

Первая часть (слева направо) представляет `Major Part`, вторая часть представляет `minor` Part, а последняя часть показывает `micro` Part. Номера версий следует увеличить в соответствии со следующим списком:

- **микро** исправлены только ошибки
- **несовершеннолетний** функции были добавлены, но версия совместима с предыдущими версиями
- **Major** Значительные изменения, делающие обратную совместимость со старой версией, больше невозможны

Атрибут `news` также должен поддерживаться в io-package.json. Это позволяет пользователям устанавливать любую версию из списка (при условии, что она была опубликована на npm) через интерфейс администратора.
Номер версии и изменения должны храниться здесь. Изменения могут быть задокументированы для каждого поддерживаемого языка, по крайней мере, на английском языке.

пример:

```json
"news": {
    "1.7.6": {
        "en": "Configuration dialog was corrected",
        "de": "Konfigurationsdialog wurde korrigiert",
        "ru": "Диалог конфигурации был исправлен",
        "pt": "A caixa de diálogo de configuração foi corrigida",
        "nl": "Configuratiedialoog is gecorrigeerd",
        "fr": "La boîte de dialogue de configuration a été corrigée",
        "it": "La finestra di configurazione è stata corretta",
        "es": "Se corrigió el diálogo de configuración",
        "pl": "Okno dialogowe konfiguracji zostało poprawione"
    },
    "1.7.5": {
        "en": "The roles were tuned",
        "de": "Die Rollen waren abgestimmt",
        "ru": "Роли были настроены",
        "pt": "Os papéis foram afinados",
        "nl": "De rollen zijn afgestemd",
        "fr": "Les rôles ont été réglés",
        "it": "I ruoli erano sintonizzati",
        "es": "Los roles fueron sintonizados",
        "pl": "Role zostały dostrojone"
    }
}
```

## Категории адаптеров
- `сигнализация` - системы безопасности
- `климат-контроль` - кондиционеры, воздушные фильтры, обогреватели и многое другое
- «связь» - предоставление данных для других адаптеров, например, Б. через ОТДЫХ
- «дата и время» - например, Б. Календарь
- «Энергия» - контроль мощности, солнечные системы, инверторы и многое другое.
- «измерение» - другие измерительные системы (например, вода, газ, нефть)
- `сад` - например B. газонокосилки, спринклерные системы
- `general` - общие адаптеры, такие как Admin, Web, Discovery
- «геопозиция» - геолокация объектов или людей
- `hardware` - различное многофункциональное оборудование, такое как Arduino, ESP, Bluetooth, ...
- `здоровье` - артериальное давление, сердцебиение, масса тела, ...
- `бытовая` - кухонная техника, пылесосы и др.
- `инфраструктура` - сеть, NAS, принтеры, телефоны
- `iot-systems` - Другие системы умного дома (аппаратное и программное обеспечение)
- `освещение` - освещение
- `логика` - правила, скрипты, парсеры и т. д.
- `Messaging` - адаптер для отправки и получения сообщений, например. Б. по электронной почте, телеграмме, ...
- `misc-data` - экспорт и импорт данных, конвертер валют и т. д.
- «мультимедиа» - ТВ, AVR, боксы, голосовые помощники и т. д.
- `сеть` - пинг, обнаружение сети, UPnP, ...
- «протоколы» - протоколы связи, например, B. MQTT
- `storage` - регистрация, хранение данных, например. Б. реляционные базы данных, ...
- `utility` - поддерживающие адаптеры, такие как B. Резервное копирование
- "ТС" - автомобили
- `визуализация` - адаптер визуализации, например, vis и т. д.
- `visualization-icons` - иконки для визуализаций
- `визуализация-виджеты` - виджеты iobroker.vis
- `погода` - информация о погоде, качество воздуха, информация об окружающей среде

## Тип подключения адаптера
- `угадай` - статус устройства определить невозможно. ioBroker принимает статус на основании последней команды ioBroker.
- «Опрос в облаке» - интеграция этого устройства происходит через облако и требует активного подключения к Интернету. Запрос статуса означает, что обновление может быть замечено позже.
- `cloud-push` - интеграция этого устройства происходит через облако и требует активного подключения к Интернету. ioBroker будет уведомлен о появлении нового статуса.
- `локальный опрос` - обеспечивает прямую связь с устройством. Запрос статуса означает, что обновление может быть замечено позже.
- `local-push` - предлагает прямую связь с устройством. ioBroker будет уведомлен о появлении нового статуса.